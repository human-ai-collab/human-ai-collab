<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drawing Test</title>
</head>
<body>
  <script src="p5.js"></script>
  <script>

    let bgColor;

    // mode 0 = drawing
    // mode 1 = erasing
    // mode 2 = static
    let mode = 2;
    let slider;
    let weight;

    function setup() {
      createCanvas(600, 600);
      
      colorMode(HSB);
      
      bgColor = 255;
      background(200);
      text('Hold the e key to erase', 20,20);

      slider = createSlider(0, 75, 25, 5);
      slider.position(0, 600);
      slider.style('width', '80px');
    }

    function draw() {
      weight = slider.value();

      if(mode == 0){
        drawMarker(0, weight);
      } else if( mode == 1){
        drawEraser(weight); 
      }
      
      noStroke();
      
      if(keyIsPressed && key == 'e'){
        mode = 1;
      } else if(keyIsPressed && key == 'd'){
        mode = 0; 
      }
      else if(keyIsPressed && key == 's'){
        mode = 2;
      }
      
    }

    function drawMarker(col, weight) {
      strokeWeight(weight);
      stroke(col, 70, 100);
      line(mouseX, mouseY, pmouseX, pmouseY);
    }

    function drawEraser(weight){
      strokeWeight(weight);
      stroke(200);
      line(mouseX, mouseY, pmouseX, pmouseY);
    }

    function clearScreen() {
      bgColor = color(random(360), random(100), random(100));
      background(200);
      text('Hold the e key to erase', 20,20);
    }

    function toggleDraw(){
      mode = 0;
    }

    function toggleErase(){
      mode = 1;
    }
    
  </script>
  <button onclick="toggleDraw()">Draw</button>
  <button onclick="toggleErase()">Erase</button>
  <button onclick="clearScreen()">Clear Canvas</button>
  <button>Trap the AI</button>
  <button>Liberate the AI</button>
  <button onclick="suggest">Suggest</button>
</body>
</html>
